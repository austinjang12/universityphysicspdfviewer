<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>University Physics PDF Viewer </title>
  <style>
    :root {
      --bg: #0b1020;
      --panel: #11162a;
      --muted: #9aa3b2;
      --text: #e6e9ef;
      --accent: #8ab4f8;
      --accent-2: #a3e635;
      --border: #232a44;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Noto Sans", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: linear-gradient(180deg, #000000, #000000 30%, #000000); color: var(--text);
      height: 100dvh; display: grid; grid-template-rows: auto 1fr; gap: 0.75rem;
    }
    header {
      display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; border-bottom: 1px solid var(--border);
      background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(6px);
      position: sticky; top: 0; z-index: 10;
    }
    header h1 { font-size: 1rem; margin: 0; font-weight: 650; letter-spacing: .2px; }
    header .spacer { flex: 1; }
    #search { width: min(520px, 60vw); padding: .6rem .8rem; border-radius: 12px; border: 1px solid var(--border); background: #000000; color: var(--text); }
    main { display: grid; grid-template-columns: 320px 1fr; gap: .75rem; padding: .75rem; height: calc(100dvh - 60px); }
    @media (max-width: 900px){ main{ grid-template-columns: 1fr; grid-template-rows: 300px 1fr; } }

    /* Sidebar */
    .sidebar { background: var(--panel); border: 1px solid var(--border); border-radius: 14px; overflow: hidden; display: flex; flex-direction: column; }
    .list { overflow: auto; padding: .25rem; }
    .item { display: grid; grid-template-columns: 1fr auto; gap: .5rem; align-items: center;
            padding: .6rem .7rem; border-radius: 10px; cursor: pointer; border: 1px solid transparent; }
    .item:hover { background: #000000; border-color: #6b6b6b; }
    .item.active { background: #000000; border-color: #2c2c2c; }
    .item small { color: var(--muted); }
    .tools { display: flex; gap: .5rem; padding: .6rem; border-top: 1px dashed var(--border); }
    .btn { appearance: none; border: 1px solid var(--border); background: #000000; color: var(--text); padding: .55rem .8rem; border-radius: 10px; cursor: pointer; }
    .btn:hover { border-color: #67686b; background: #000000; }

    /* Viewer */
    .viewer { background: var(--panel); border: 1px solid var(--border); border-radius: 14px; overflow: hidden; display: grid; grid-template-rows: auto 1fr; min-height: 0; }
    .viewer .bar { display: flex; gap: .5rem; align-items: center; padding: .5rem .6rem; border-bottom: 1px solid var(--border); }
    .viewer .bar .title { font-weight: 600; }
    .viewer .bar .muted { color: var(--muted); }
    iframe, embed { width: 100%; height: 100%; border: 0; background: #000; }

    /* Empty state */
    .empty { height: 100%; display: grid; place-content: center; gap: .5rem; text-align: center; color: var(--muted); }
  </style>
</head>
<body>
  <header>
    <h1>My Textbook (PDF Chapters)</h1>
    <div class="spacer"></div>
    <input id="search" type="search" placeholder="Search chapters… (title or filename)" />
  </header>

  <main>
    <section class="sidebar">
      <div class="list" id="list"></div>
      <div class="tools">
        <button class="btn" id="openNew">Open in new tab</button>
        <button class="btn" id="download">Download PDF</button>
      </div>
    </section>

    <section class="viewer">
      <div class="bar">
        <div class="title" id="currentTitle">Select a chapter</div>
        <div class="spacer"></div>
        <div class="muted" id="currentInfo"></div>
      </div>
      <div id="frameWrap" style="min-height:0">
        <iframe id="viewer" title="PDF viewer" src="about:blank" allow="fullscreen"></iframe>
      </div>
      <div class="empty" id="emptyState" hidden>
        <div style="font-size:1.1rem">No chapter selected</div>
        <div>Choose one from the list on the left.</div>
      </div>
    </section>
  </main>

  <script>

    const PDFS = [
         { title: "Ch. 20 - Second Law of Thermodynamics", file: "\Chapter 20 - University Physics 15th Edition.pdf"},
         { title: "Ch. 21 - Electric Charge and Electric Field", file: "\Chapter 21 - University Physics 15th Edition.pdf"},
         { title: "Ch. 22 - Gauss's Law", file: "\Chapter 22 - University Physics 15th Edition.pdf"},
         { title: "Ch. 23 - Electric Potential", file: "\Chapter 23 - University Physics 15th Edition.pdf"},
         { title: "Ch. 27 - Magnetic Fields and Magnetic Forces", file: "\Chapter 27 - University Physics 15th Edition.pdf"},
         { title: "Ch. 28 - Sources of Electric Field", file: "\Chapter 28 - University Physics 15th Edition.pdf"},
         { title: "Ch. 29 - Electromagnetic Induction", file: "\Chapter 29 - University Physics 15th Edition.pdf"},
         { title: "Ch. 30 - Inductance", file: "\Chapter 30 - University Physics 15th Edition.pdf"},
         { title: "Ch. 31 - Alternating Current", file: "\Chapter 31 - University Physics 15th Edition.pdf"},
         { title: "Ch. 32 - Electromagnetic Waves", file: "\Chapter 32 - University Physics 15th Edition.pdf"},
    ];



    const listEl = document.getElementById('list');
    const viewer = document.getElementById('viewer');
    const empty = document.getElementById('emptyState');
    const titleEl = document.getElementById('currentTitle');
    const infoEl = document.getElementById('currentInfo');
    const openNewBtn = document.getElementById('openNew');
    const downloadBtn = document.getElementById('download');
    const searchEl = document.getElementById('search');

    const params = new URLSearchParams(location.hash.replace('#',''));

    function renderList(filter = ''){
      listEl.innerHTML = '';
      const term = filter.trim().toLowerCase();
      const filtered = PDFS.filter(p => !term || p.title.toLowerCase().includes(term) || p.file.toLowerCase().includes(term));

      if(filtered.length === 0){
        const div = document.createElement('div');
        div.className = 'item';
        div.innerHTML = '<span style="color:var(--muted)">No results</span>';
        listEl.appendChild(div);
        return;
      }

      filtered.forEach(p => {
        const row = document.createElement('div');
        row.className = 'item';
        row.dataset.file = p.file;
        row.dataset.title = p.title;
        row.innerHTML = `
          <div>
            <div>${escapeHtml(p.title)}</div>
            <small>${escapeHtml(p.file)}</small>
          </div>
          <div>›</div>
        `;
        row.addEventListener('click', () => selectChapter(p.file));
        listEl.appendChild(row);
      });
      highlightActive();
    }

    function selectChapter(file){
      const entry = PDFS.find(p => p.file === file);
      if(!entry){ return; }
      const url = encodeURI(entry.file);
      viewer.src = url; // uses browser's native viewer
      empty.hidden = true;
      titleEl.textContent = entry.title;
      infoEl.textContent = entry.file;
      location.hash = new URLSearchParams({ file: entry.file }).toString();
      highlightActive();
    }

    function highlightActive(){
      const current = new URLSearchParams(location.hash.replace('#','')).get('file');
      [...listEl.children].forEach(el => {
        el.classList.toggle('active', el.dataset && el.dataset.file === current);
      });
    }

    function escapeHtml(s){
      return s.replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[c]));
    }


    searchEl.addEventListener('input', () => renderList(searchEl.value));


    openNewBtn.addEventListener('click', () => {
      const file = new URLSearchParams(location.hash.replace('#','')).get('file');
      if(file){ window.open(encodeURI(file), '_blank'); }
    });
    downloadBtn.addEventListener('click', () => {
      const file = new URLSearchParams(location.hash.replace('#','')).get('file');
      if(file){
        const a = document.createElement('a');
        a.href = encodeURI(file);
        a.download = file.split('/').pop();
        document.body.appendChild(a); a.click(); a.remove();
      }
    });


    renderList('');
    if(PDFS.length){
      const initial = params.get('file') && PDFS.find(p => p.file === params.get('file')) ? params.get('file') : PDFS[0].file;
      selectChapter(initial);
    } else {
      empty.hidden = false;
      titleEl.textContent = 'Add your PDFs in the code (scroll up)';
      infoEl.textContent = '';
    }

  </script>
</body>
</html>
